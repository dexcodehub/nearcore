# near-store（持久化存储）

## 概述
`near-store` 提供链状态、索引与快照的持久化能力，向上游提供统一的存储接口与数据结构。

- 关键文件：`core/store/src/store.rs`（`Store`）
- 存储后端：RocksDB 等，支持 io trace（特性）。

## 职责
- 管理状态树/列族、区块与分片的存储。
- 提供快照与校验工具接口（配合 `tools/*`）。
- 暴露一致的读写 API 给链与运行时使用。

## 核心功能点
- 性能与一致性：针对读写路径优化并提供校验机制。
- IO Trace：记录关键 IO 以便重放或估算。
- 工具支持：状态查看器（`state-viewer`）、状态切片（`state-parts`）。

## 输入/输出接口
- 输入：来自 `near-chain` 与 `node-runtime` 的读写请求。
- 输出：持久化数据、快照/校验信息、错误与指标。

## 关键类/函数与调用方式
- `Store`：构造与列族管理；读写接口供上游模块调用。